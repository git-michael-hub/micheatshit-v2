<section class="p-4 text-sm">
  <p class="heading-1 mb-2">
    Directive
  </p>

  <div class="text-content">
    <p>
      <span class="text-zinc-50 tw-font-medium">Directives</span>
      in Angular 19 are powerful features that manipulate the DOM, add behaviors to existing elements, and create reusable components. Angular 19 enhances directives with signal-based reactivity, improved performance, and better integration with the new control flow syntax, allowing developers to build more responsive and efficient applications.
    </p>

    <br>

    <div class="flex flex-col">
      <div class="flex border-b border-gray-200">
        <button (click)="selectedTab = 1" [class.text-rose-300]="selectedTab===1" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Notes
        </button>
        <button (click)="selectedTab = 2" [class.text-rose-300]="selectedTab===2" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Best Practices
        </button>
        <button (click)="selectedTab = 3" [class.text-rose-300]="selectedTab===3" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Pros and Cons
        </button>
        <button (click)="selectedTab = 4" [class.text-rose-300]="selectedTab===4" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Related Topics
        </button>
      </div>
      <div class="p-4">
        <ng-container [ngSwitch]="selectedTab">
          <div *ngSwitchCase="2">
            <ng-container *ngTemplateOutlet="bestRef;"></ng-container>
          </div>
          <div *ngSwitchCase="3">
            <ng-container *ngTemplateOutlet="prosConsRef;"></ng-container>
          </div>
          <div *ngSwitchCase="4">
            <ng-container *ngTemplateOutlet="topicsRef"></ng-container>
          </div>
          <div *ngSwitchDefault>
            <ng-container *ngTemplateOutlet="notesRef"></ng-container>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</section>

<ng-template #notesRef>
  <p>Types of Directives in Angular 19:</p>
  <ul class="list-disc pl-4 text-sm">
    <li>
      <strong>Component Directives</strong>:
      Components with their own templates, styles, and behavior, created using the @Component decorator.
    </li>
    <li>
      <strong>Attribute Directives</strong>:
      Directives that change the appearance or behavior of existing elements, created using the @Directive decorator.
    </li>
    <li>
      <strong>Structural Directives</strong>:
      Directives that add or remove DOM elements based on conditions, now with built-in alternatives in Angular 19.
    </li>
  </ul>

  <br>
  <br>

  <p>New Directive Features in Angular 19</p>
  <ol class="list-decimal pl-4 text-sm">
    <li>
      <strong>Signal-Based Directives</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 introduces signal-based inputs for directives, enabling reactive behavior with improved performance and reduced memory usage compared to traditional input bindings.</li>
      </ul>
    </li>
    <li>
      <strong>Host Directive Composition</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 enhances host directives to enable better directive composition, allowing multiple directives to be combined in a more efficient and maintainable way.</li>
      </ul>
    </li>
    <li>
      <strong>Built-in Control Flow Reducing Structural Directives</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 stabilizes the built-in control flow syntax (@if, @for, @switch) that provides an alternative to traditional structural directives like *ngIf, *ngFor, and *ngSwitch with better performance and type safety.</li>
      </ul>
    </li>
    <li>
      <strong>Standalone Directive Improvements</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 fully optimizes standalone directives, eliminating NgModule dependencies and improving tree-shaking for smaller bundle sizes.</li>
      </ul>
    </li>
    <li>
      <strong>Deferred Loading for Directives</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 provides improved deferred loading capabilities for directives, allowing better control over when directives are loaded and initialized.</li>
      </ul>
    </li>
  </ol>

  <br>
  <br>

  <p>Types of Angular Directives with Examples</p>
  <ol class="list-decimal px-10 text-sm">
    <li>
      Component Directive

      <button (click)="code1.hidden = !code1.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code1 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_1"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      Attribute Directive

      <button (click)="code2.hidden = !code2.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code2 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_2"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      Structural Directive

      <button (click)="code3.hidden = !code3.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code3 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_3_1"
            [languages]="['typescript']">
          </code>
        </pre>

        <span copyToClipboard>
          <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
            <span>typescript</span>
            <span class="copy-button-wrapper bg-gray-700"></span>
          </div>

          <pre>
            <code
              [highlight]="code_3_2"
              [languages]="['typescript']">
            </code>
          </pre>
        </span>

        <span copyToClipboard>
          <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
            <span>typescript</span>
            <span class="copy-button-wrapper bg-gray-700"></span>
          </div>

          <pre>
            <code
              [highlight]="code_3_3"
              [languages]="['typescript']">
            </code>
          </pre>
        </span>
      </span>
    </li>
    <li>
      Input Binding

      <button (click)="code4.hidden = !code4.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code4 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_4"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      Output Binding

      <button (click)="code5.hidden = !code5.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code5 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_5"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      Host Binding

      <button (click)="code6.hidden = !code6.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code6 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_6"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      Host Listener

      <button (click)="code7.hidden = !code7.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code7 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_7"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      ElementRef

      <button (click)="code8.hidden = !code8.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code8 hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_8"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
  </ol>

  <br>
  <br>

  <p>Directive Usage Patterns in Angular 19</p>
  <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md">
    <thead>
      <tr class="bg-gray-800 text-gray-100">
        <th class="py-3 px-4 text-left">Directive Type</th>
        <th class="py-3 px-4 text-left">Use Case</th>
      </tr>
    </thead>
    <tbody>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>Component</code></td>
        <td class="py-3 px-4">Building UI components with encapsulated logic and styling</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>Attribute</code></td>
        <td class="py-3 px-4">Modifying behavior or appearance of existing elements</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>Structural</code></td>
        <td class="py-3 px-4">Adding/removing elements based on conditions (legacy approach)</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>Host Directive</code></td>
        <td class="py-3 px-4">Composing multiple directives together on a component</td>
      </tr>
    </tbody>
  </table>
</ng-template>

<ng-template #bestRef>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong class="text-sky-400">Prefer Built-in Control Flow Over Structural Directives</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Use @if Over *ngIf</strong>:
          In Angular 19, prefer the new @if control flow syntax over *ngIf directive for better performance and type checking.
        </li>
        <li>
          <strong>Use @for Over *ngFor</strong>:
          Take advantage of the @for syntax which provides improved change detection and better memory management compared to *ngFor.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Leverage Signal-Based Inputs</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Use input() Function</strong>:
          Replace traditional @Input() decorators with signal-based input() functions for better reactivity and performance.
        </li>
        <li>
          <strong>Implement Input Transforms</strong>:
          Use input transforms to process and validate input values as they arrive, avoiding unnecessary change detection cycles.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Create Standalone Directives</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Use standalone: true</strong>:
          Create standalone directives to avoid NgModule dependencies and improve tree-shaking for smaller bundles.
        </li>
        <li>
          <strong>Self-Contained Dependencies</strong>:
          Ensure directives import their own dependencies rather than relying on shared module imports.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Apply Host Directive Composition</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Compose Multiple Directives</strong>:
          Use the hostDirectives property to compose multiple directives together, promoting code reuse.
        </li>
        <li>
          <strong>Expose API Selectively</strong>:
          Control which inputs and outputs from host directives are exposed using the inputs and outputs properties.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Apply the OnPush Change Detection Strategy</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Performance Optimization</strong>:
          Use OnPush change detection strategy with directives to significantly improve performance, especially in large applications.
        </li>
        <li>
          <strong>Immutable Input Data</strong>:
          Design directives to work with immutable data structures for better performance with OnPush change detection.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>

<ng-template #prosConsRef>
  <strong class="text-sky-400">
    Pros of Angular 19 Directives:
  </strong>

  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Improved Performance</strong>
      <ul class="list-disc pl-4">
        <li>
          Angular 19 directives provide better performance through signal-based reactivity and optimized change detection.
        </li>
      </ul>
    </li>
    <li>
      <strong>Better Type Safety</strong>
      <ul class="list-disc pl-4">
        <li>
          Enhanced TypeScript integration offers improved type checking for directives, reducing runtime errors.
        </li>
      </ul>
    </li>
    <li>
      <strong>Modular Design</strong>
      <ul class="list-disc pl-4">
        <li>
          Standalone directives enable more modular code organization without NgModule dependencies.
        </li>
      </ul>
    </li>
    <li>
      <strong>Code Reusability</strong>
      <ul class="list-disc pl-4">
        <li>
          Host directive composition allows for better code reuse across components.
        </li>
      </ul>
    </li>
    <li>
      <strong>Declarative Syntax</strong>
      <ul class="list-disc pl-4">
        <li>
          Directives provide a clean, declarative way to modify DOM behavior without complex imperative code.
        </li>
      </ul>
    </li>
  </ol>

  <br>

  <strong class="text-sky-400">
    Cons and Challenges:
  </strong>

  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Learning Curve</strong>
      <ul class="list-disc pl-4">
        <li>
          The new signal-based approach and control flow syntax requires learning new patterns for those familiar with older directive models.
        </li>
      </ul>
    </li>
    <li>
      <strong>Migration Effort</strong>
      <ul class="list-disc pl-4">
        <li>
          Converting existing directives to use new Angular 19 features can require significant refactoring in larger applications.
        </li>
      </ul>
    </li>
    <li>
      <strong>Debugging Complexity</strong>
      <ul class="list-disc pl-4">
        <li>
          Complex directive compositions can be difficult to debug when issues arise.
        </li>
      </ul>
    </li>
    <li>
      <strong>Potential Overuse</strong>
      <ul class="list-disc pl-4">
        <li>
          Directives can be overused, leading to "directive soup" and harder-to-maintain code.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>

<ng-template #topicsRef>
  <p>Related Angular 19 Topics:</p>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Built-in Control Flow</strong>:
      <p>
        Angular 19's new control flow syntax (@if, @for, @switch) provides an alternative to structural directives with improved performance and type safety.
      </p>
    </li>
    <li>
      <strong>Signal-Based Inputs</strong>:
      <p>
        The input() function in Angular 19 enables reactive, signal-based properties in directives for better performance and change detection.
      </p>
    </li>
    <li>
      <strong>Host Directive Composition</strong>:
      <p>
        Angular 19 enhances the ability to compose multiple directives together using the hostDirectives feature.
      </p>
    </li>
    <li>
      <strong>Standalone Components and Directives</strong>:
      <p>
        Angular 19 fully stabilizes the standalone API, allowing directives to be used without NgModule dependencies.
      </p>
    </li>
    <li>
      <strong>Deferred Loading</strong>:
      <p>
        Angular 19 improves support for lazy-loading directives using the @defer syntax, optimizing initial load times.
      </p>
    </li>
    <li>
      <strong>Zoneless Applications</strong>:
      <p>
        Directives in Angular 19 integrate with the zoneless reactivity model for improved performance without zone.js.
      </p>
    </li>
    <li>
      <strong>Server-Side Rendering (SSR)</strong>:
      <p>
        Angular 19 optimizes directive hydration in SSR scenarios for better performance and user experience.
      </p>
    </li>
  </ol>
</ng-template>
