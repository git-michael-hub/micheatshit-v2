<section class="p-4 text-sm">
  <p class="heading-1 mb-2">
    Attribute Directive
  </p>

  <div class="text-content">
    <p>
      <span class="text-zinc-50 tw-font-medium">Attribute Directives</span>
      in Angular 19 are used to change the appearance, behavior, or layout of a DOM element. Unlike structural directives that change the DOM layout by adding or removing elements, attribute directives only affect the element they are applied to. Angular 19 introduces powerful enhancements for directives including signal-based inputs, host directives, and better integration with standalone components.
    </p>

    <br>

    <div class="flex flex-col">
      <div class="flex border-b border-gray-200">
        <button  (click)="selectedTab = 1" [class.text-rose-300]="selectedTab===1" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Notes
        </button>
        <button  (click)="selectedTab = 2" [class.text-rose-300]="selectedTab===2" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Best Practices
        </button>
        <button  (click)="selectedTab = 3" [class.text-rose-300]="selectedTab===3" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Pros and Cons
        </button>
        <button  (click)="selectedTab = 4" [class.text-rose-300]="selectedTab===4" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Related Topics
        </button>
      </div>
      <div class="p-4">
        <ng-container [ngSwitch]="selectedTab">
          <div *ngSwitchCase="2">
            <ng-container *ngTemplateOutlet="bestRef;"></ng-container>
          </div>
          <div *ngSwitchCase="3">
            <ng-container *ngTemplateOutlet="prosConsRef;"></ng-container>
          </div>
          <div *ngSwitchCase="4">
            <ng-container *ngTemplateOutlet="topicsRef"></ng-container>
          </div>
          <div *ngSwitchDefault>
            <ng-container *ngTemplateOutlet="notesRef"></ng-container>
          </div>
        </ng-container>
      </div>
    </div>

  </div>
</section>





<ng-template #notesRef>
  <p>Angular 19 Directive Enhancements</p>
  <ul class="list-disc pl-4 text-sm">
    <li>
      <strong>Standalone Directives</strong>:
      Directives can now be fully standalone, making them more modular and easier to distribute.
    </li>
    <li>
      <strong>Signal-based Inputs</strong>:
      Angular 19 introduces signal-based inputs for directives, improving performance and reactivity.
    </li>
    <li>
      <strong>Host Directives</strong>:
      Compose multiple directives together to create more powerful, reusable directive combinations.
    </li>
    <li>
      <strong>Improved Performance</strong>:
      Enhanced change detection and optimized rendering for directives in Angular 19.
    </li>
    <li>
      <strong>Deferrable Views Integration</strong>:
      Directives can work with Angular's new deferrable views for improved loading performance.
    </li>
  </ul>

  <br>
  <br>

  <p>Creating a Standalone Directive in Angular 19</p>
  <button (click)="code1.hidden = !code1.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>
  <span #code1 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>
    <pre>
      <code [highlight]="standaloneDirectiveCode" [languages]="['typescript']"></code>
    </pre>
  </span>

  <br>
  <br>

  <p>Signal-Based Directives</p>
  <p class="text-sm mt-2 mb-4">
    Angular 19 introduces powerful signal-based inputs for directives, allowing for more efficient reactivity:
  </p>
  <button (click)="code2.hidden = !code2.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>
  <span #code2 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>
    <pre>
      <code [highlight]="signalDirectiveCode" [languages]="['typescript']"></code>
    </pre>
  </span>

  <br>
  <br>

  <p>Host Directives for Composition</p>
  <p class="text-sm mt-2 mb-4">
    Angular 19 enhances Host Directives for better directive composition:
  </p>
  <button (click)="code3.hidden = !code3.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>
  <span #code3 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>
    <pre>
      <code [highlight]="hostDirectiveCode" [languages]="['typescript']"></code>
    </pre>
  </span>

  <br>
  <br>

  <p>Using Directives in Templates</p>
  <button (click)="code4.hidden = !code4.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>
  <span #code4 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>html</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>
    <pre>
      <code [highlight]="directiveUsageCode" [languages]="['html']"></code>
    </pre>
  </span>

  <br>
  <br>

  <p>Deferrable Views with Directives</p>
  <p class="text-sm mt-2 mb-4">
    Angular 19's deferrable views feature works seamlessly with directives:
  </p>
  <button (click)="code5.hidden = !code5.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>
  <span #code5 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>html</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>
    <pre>
      <code [highlight]="deferredDirectiveCode" [languages]="['html']"></code>
    </pre>
  </span>

  <br>
  <br>

  <p>Common Angular 19 Directive Scenarios</p>
  <br>
  <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md">
    <thead>
      <tr class="bg-gray-800 text-gray-100">
        <th class="py-3 px-4 text-left">Scenario</th>
        <th class="py-3 px-4 text-left">Implementation</th>
      </tr>
    </thead>
    <tbody>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">Theme Switching</td>
        <td class="py-3 px-4">Signal-based directive that dynamically updates styles</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">Form Validation</td>
        <td class="py-3 px-4">Host directive combining error state and validation message directives</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">Lazy Loading</td>
        <td class="py-3 px-4">Directive with deferrable views to load content on demand</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">Performance Monitoring</td>
        <td class="py-3 px-4">Directive that tracks render times and reports to analytics</td>
      </tr>
    </tbody>
  </table>

</ng-template>


<ng-template #bestRef>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong class="text-sky-400">Prefer Standalone Directives</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Modular Design</strong>:
          Create standalone directives that don't rely on NgModules for better isolation and sharing.
        </li>
        <li>
          <strong>Avoid Global Imports</strong>:
          Import only the directives you need directly in components for better tree-shaking.
        </li>
        <li>
          <strong>Consider Packaging</strong>:
          Package related directives together for better distribution and maintenance.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Leverage Signal-Based Inputs</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Use Input Signals</strong>:
          Replace &#64;Input() with the new input() signal function for improved performance.
        </li>
        <li>
          <strong>Create Computed Properties</strong>:
          Use computed() for derived values to avoid unnecessary calculations.
        </li>
        <li>
          <strong>Apply Effects Carefully</strong>:
          Use effect() for side effects but be cautious of performance implications.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Optimize for Performance</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Minimize DOM Manipulations</strong>:
          Batch DOM changes and use renderer2 instead of direct DOM manipulation.
        </li>
        <li>
          <strong>Avoid Expensive Calculations</strong>:
          Cache results and use memoization for complex calculations.
        </li>
        <li>
          <strong>Profile and Measure</strong>:
          Use Angular DevTools to profile directive performance and identify bottlenecks.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Directive Composition</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Use Host Directives</strong>:
          Compose multiple directives together using the hostDirectives feature.
        </li>
        <li>
          <strong>Balance Granularity</strong>:
          Create small, focused directives that can be composed rather than monolithic directives.
        </li>
        <li>
          <strong>Consider API Surface</strong>:
          Carefully design which inputs and outputs to expose from composed directives.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Defensive Programming</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Handle Edge Cases</strong>:
          Implement checks for null or undefined values to prevent runtime errors.
        </li>
        <li>
          <strong>Clean Up Resources</strong>:
          Use ngOnDestroy to remove event listeners and clean up resources.
        </li>
        <li>
          <strong>Provide Meaningful Error Messages</strong>:
          Include clear error messages for common misconfigurations.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>


<ng-template #prosConsRef>
  <div class="text-sm">
    <p class="font-semibold text-sky-400 mb-2">Advantages of Angular 19 Directives</p>
    <ul class="list-disc pl-4 mb-6">
      <li><strong>Improved Performance</strong>: Signal-based reactivity for faster rendering and updates</li>
      <li><strong>Better Modularity</strong>: Standalone directives for improved tree-shaking and code organization</li>
      <li><strong>Enhanced Composition</strong>: Host directives for combining multiple behaviors</li>
      <li><strong>Type Safety</strong>: Stronger type checking and improved type inference</li>
      <li><strong>Deferrable Integration</strong>: Seamless integration with deferrable views for lazy loading</li>
    </ul>

    <p class="font-semibold text-sky-400 mb-2">Challenges</p>
    <ul class="list-disc pl-4 mb-6">
      <li><strong>Migration Effort</strong>: Updating existing directives to use new patterns requires effort</li>
      <li><strong>Learning Curve</strong>: Signal-based inputs and host directives introduce new concepts</li>
      <li><strong>Debugging Complexity</strong>: Composed directives can be harder to debug</li>
      <li><strong>Integration with Legacy Code</strong>: Mixing old and new directive patterns can be challenging</li>
    </ul>

    <p class="font-semibold text-sky-400 mb-2">Traditional vs. Signal-Based Directives</p>
    <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md mb-4">
      <thead>
        <tr class="bg-gray-800 text-gray-100">
          <th class="py-3 px-4 text-left">Feature</th>
          <th class="py-3 px-4 text-left">Traditional Directive</th>
          <th class="py-3 px-4 text-left">Signal-Based Directive</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
          <td class="py-3 px-4">Input Change Detection</td>
          <td class="py-3 px-4">OnChanges lifecycle hook</td>
          <td class="py-3 px-4">Automatic with signals</td>
        </tr>
        <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
          <td class="py-3 px-4">Derived Values</td>
          <td class="py-3 px-4">Manual recalculation</td>
          <td class="py-3 px-4">Computed signals</td>
        </tr>
        <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
          <td class="py-3 px-4">Reactivity</td>
          <td class="py-3 px-4">Zone.js based</td>
          <td class="py-3 px-4">Fine-grained reactivity</td>
        </tr>
        <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
          <td class="py-3 px-4">Performance</td>
          <td class="py-3 px-4">Potentially wasteful checks</td>
          <td class="py-3 px-4">Only updates when signals change</td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-template>


<ng-template #topicsRef>
  <div class="text-sm">
    <p class="font-semibold text-sky-400 mb-2">Related Angular 19 Features</p>
    <ul class="list-disc pl-4 mb-6">
      <li><strong>Signals</strong>: Core reactive primitive used by directives for fine-grained reactivity</li>
      <li><strong>Standalone Components</strong>: Complement to standalone directives for modular architecture</li>
      <li><strong>Deferrable Views</strong>: Works with directives to improve initial load performance</li>
      <li><strong>Zoneless Applications</strong>: Signal-based directives work well in zoneless mode</li>
      <li><strong>Server-Side Rendering</strong>: Directives in SSR contexts with improved hydration</li>
    </ul>

    <p class="font-semibold text-sky-400 mb-2">Directive Types in Angular 19</p>
    <ul class="list-disc pl-4 mb-6">
      <li><strong>Attribute Directives</strong>: Change appearance, behavior, or layout of elements</li>
      <li><strong>Structural Directives</strong>: Change DOM layout by adding/removing elements</li>
      <li><strong>Component Directives</strong>: Components are technically specialized directives</li>
      <li><strong>Host Directives</strong>: Composed directives for combining behaviors</li>
    </ul>

    <p class="font-semibold text-sky-400 mb-2">Angular 19 Improvements for Directives</p>
    <ul class="list-disc pl-4">
      <li>Signal-based input() function for better performance</li>
      <li>Enhanced hostDirectives API for better composition</li>
      <li>Improved type checking and inference for directive inputs/outputs</li>
      <li>Better tree-shaking for directive dependencies</li>
      <li>Integration with deferrable views and dynamic imports</li>
      <li>Improved tooling and debugging experience in Angular DevTools</li>
    </ul>

    <p class="font-semibold text-sky-400 mt-6 mb-2">Recommended Documentation</p>
    <ul class="list-disc pl-4">
      <li><a href="https://angular.dev/guide/directives" class="text-sky-400 hover:underline">Angular.dev: Directive Overview</a></li>
      <li><a href="https://angular.dev/guide/directives/attribute-directives" class="text-sky-400 hover:underline">Angular.dev: Attribute Directives</a></li>
      <li><a href="https://angular.dev/guide/signals" class="text-sky-400 hover:underline">Angular.dev: Signals</a></li>
      <li><a href="https://angular.dev/guide/host-directives" class="text-sky-400 hover:underline">Angular.dev: Host Directives</a></li>
    </ul>
  </div>
</ng-template>
