<section class="p-4 text-sm">
  <p class="heading-1 mb-2">
    Form Validation
  </p>

  <div class="text-content">
    <p>
      <span class="text-zinc-50 tw-font-medium">Form Validation</span>
      in Angular 19 ensures data quality and consistency by verifying that user input meets specific criteria before processing. Angular 19 enhances form validation with signal integration, better type safety, and improved error handling, making validation more reactive, intuitive, and maintainable.
    </p>

    <br>

    <div class="flex flex-col">
      <div class="flex border-b border-gray-200">
        <button (click)="selectedTab = 1" [class.text-rose-300]="selectedTab===1" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Notes
        </button>
        <button (click)="selectedTab = 2" [class.text-rose-300]="selectedTab===2" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Best Practices
        </button>
        <button (click)="selectedTab = 3" [class.text-rose-300]="selectedTab===3" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Pros and Cons
        </button>
        <button (click)="selectedTab = 4" [class.text-rose-300]="selectedTab===4" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Related Topics
        </button>
      </div>
      <div class="p-4">
        <ng-container [ngSwitch]="selectedTab">
          <div *ngSwitchCase="2">
            <ng-container *ngTemplateOutlet="bestRef;"></ng-container>
          </div>
          <div *ngSwitchCase="3">
            <ng-container *ngTemplateOutlet="prosConsRef;"></ng-container>
          </div>
          <div *ngSwitchCase="4">
            <ng-container *ngTemplateOutlet="topicsRef"></ng-container>
          </div>
          <div *ngSwitchDefault>
            <ng-container *ngTemplateOutlet="notesRef"></ng-container>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</section>


<ng-template #notesRef>
  <p>What is Form Validation?</p>
  <ul class="list-disc pl-4 text-sm">
    <li>
      <strong>Definition</strong>:
      Form validation is the process of checking user input against a set of rules to ensure data quality and consistency before processing.
    </li>
    <li>
      <strong>Purpose</strong>:
      Validation improves data integrity, enhances user experience by providing immediate feedback, and reduces server-side processing of invalid data.
    </li>
    <li>
      <strong>Types of Validation</strong>:
      Angular supports built-in validators, custom validators, synchronous validation (immediate), and asynchronous validation (server-dependent).
    </li>
    <li>
      <strong>Validation Triggers</strong>:
      Validation can be triggered on form submission, when a field loses focus (blur), or in real-time as the user types (change).
    </li>
  </ul>

  <br>
  <br>

  <p>Form Validation Enhancements in Angular 19</p>
  <ol class="list-decimal pl-4 text-sm">
    <li>
      <strong>Signal Integration</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 introduces seamless integration between form validation states and signals, enabling reactive validation feedback with less boilerplate code.</li>
      </ul>
    </li>
    <li>
      <strong>Improved Type Safety</strong>:
      <ul class="list-disc pl-4">
        <li>Better TypeScript integration for validation errors and states, making form error handling more predictable and type-safe.</li>
      </ul>
    </li>
    <li>
      <strong>Enhanced Async Validation</strong>:
      <ul class="list-disc pl-4">
        <li>Improved asynchronous validation with better cancellation and debouncing support through integration with rxjs-interop.</li>
      </ul>
    </li>
    <li>
      <strong>Real-time Validation Feedback</strong>:
      <ul class="list-disc pl-4">
        <li>Signal-based validation states allow for more immediate and granular visual feedback as users interact with forms.</li>
      </ul>
    </li>
    <li>
      <strong>Standalone Component Integration</strong>:
      <ul class="list-disc pl-4">
        <li>Streamlined validation in standalone components with reduced need for module imports and dependency management.</li>
      </ul>
    </li>
  </ol>

  <br>
  <br>

  <p>Working with Form Validation in Angular 19</p>
  <ol class="list-decimal px-10 text-sm">
    <li>
      <strong>Basic Form Validation</strong>:
      Implementing validation with built-in validators.

      <button (click)="code_1_ref.hidden = !code_1_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code_1_ref hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_1"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      <strong>Signal-Based Validation</strong>:
      Using signals to track validation state for reactive user feedback.

      <button (click)="code_2_ref.hidden = !code_2_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code_2_ref hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_2"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      <strong>Custom Validators</strong>:
      Creating custom validation logic for specific requirements.

      <button (click)="code_3_ref.hidden = !code_3_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code_3_ref hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_3"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
    <li>
      <strong>Real-time Validation</strong>:
      Implementing dynamic validation feedback as users type.

      <button (click)="code_4_ref.hidden = !code_4_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

      <span #code_4_ref hidden copyToClipboard>
        <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
          <span>typescript</span>
          <span class="copy-button-wrapper bg-gray-700"></span>
        </div>

        <pre>
          <code
            [highlight]="code_4"
            [languages]="['typescript']">
          </code>
        </pre>
      </span>
    </li>
  </ol>

  <br>
  <br>

  <p>Built-in Validators Comparison</p>
  <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md">
    <thead>
      <tr class="bg-gray-800 text-gray-100">
        <th class="py-3 px-4 text-left">Validator</th>
        <th class="py-3 px-4 text-left">Purpose</th>
        <th class="py-3 px-4 text-left">Angular 19 Improvements</th>
      </tr>
    </thead>
    <tbody>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">required</td>
        <td class="py-3 px-4">Ensures field is not empty</td>
        <td class="py-3 px-4">Better typed error objects</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">minLength/maxLength</td>
        <td class="py-3 px-4">Enforces text length constraints</td>
        <td class="py-3 px-4">Enhanced signal integration</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">pattern</td>
        <td class="py-3 px-4">Validates against regex patterns</td>
        <td class="py-3 px-4">Improved error messages</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4">email</td>
        <td class="py-3 px-4">Verifies email format</td>
        <td class="py-3 px-4">More accurate validation</td>
      </tr>
    </tbody>
  </table>
</ng-template>


<ng-template #bestRef>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong class="text-sky-400">Connect Validation to Signals</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Use Signal Integration</strong>:
          Connect form validation states to signals for more reactive UI updates and better performance in zone-less applications.
        </li>
        <li>
          <strong>Create Computed Validation States</strong>:
          Use computed signals to derive complex validation states from multiple controls.

          <button (click)="code_5_ref.hidden = !code_5_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

          <span #code_5_ref hidden copyToClipboard>
            <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
              <span>typescript</span>
              <span class="copy-button-wrapper bg-gray-700"></span>
            </div>

            <pre>
              <code
                [highlight]="code_5"
                [languages]="['typescript']">
              </code>
            </pre>
          </span>
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Design Intuitive Validation UX</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Validate at the Right Time</strong>:
          Configure validation timing with updateOn to avoid overwhelming users with premature error messages.
        </li>
        <li>
          <strong>Provide Clear Error Messages</strong>:
          Write specific, actionable error messages that guide users to correct their input.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Optimize Async Validation</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Debounce Input</strong>:
          Prevent excessive server requests by debouncing async validations, especially for real-time validation.
        </li>
        <li>
          <strong>Show Loading States</strong>:
          Indicate when async validation is in progress using the pending state of form controls.

          <button (click)="code_6_ref.hidden = !code_6_ref.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

          <span #code_6_ref hidden copyToClipboard>
            <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
              <span>typescript</span>
              <span class="copy-button-wrapper bg-gray-700"></span>
            </div>

            <pre>
              <code
                [highlight]="code_6"
                [languages]="['typescript']">
              </code>
            </pre>
          </span>
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Create Reusable Validation Patterns</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Extract Common Validators</strong>:
          Package frequently used validation logic into reusable functions that can be shared across forms.
        </li>
        <li>
          <strong>Create Validation Libraries</strong>:
          Organize common validators into feature libraries that can be easily imported across your application.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Handle Validation Edge Cases</strong>:
      <ul class="list-disc pl-4">
        <li>
          <strong>Manage Dependent Fields</strong>:
          Use form-level validators for validating relationships between fields, such as password confirmation.
        </li>
        <li>
          <strong>Graceful Error Recovery</strong>:
          Implement proper error handling for async validation failures to ensure the form remains usable even when server-side validation is unavailable.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>


<ng-template #prosConsRef>
  <strong class="text-sky-400">
    Pros of Angular 19's Form Validation:
  </strong>

  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Signal Integration</strong>
      <ul class="list-disc pl-4">
        <li>
          Form validation now integrates seamlessly with Angular's signals system, allowing for more precise and efficient reactive updates to validation states and error messages.
        </li>
      </ul>
    </li>
    <li>
      <strong>Improved TypeScript Support</strong>
      <ul class="list-disc pl-4">
        <li>
          Enhanced error typing provides better compile-time checks and IDE autocompletion for validation errors, reducing runtime issues and improving developer experience.
        </li>
      </ul>
    </li>
    <li>
      <strong>Optimized Performance</strong>
      <ul class="list-disc pl-4">
        <li>
          Validation operations in Angular 19 can operate efficiently outside Zone.js, leading to better performance in large forms with complex validation rules.
        </li>
      </ul>
    </li>
    <li>
      <strong>Better Async Validation</strong>
      <ul class="list-disc pl-4">
        <li>
          Improved handling of asynchronous validators with automatic subscription management through takeUntilDestroyed and better integration with RxJS operators.
        </li>
      </ul>
    </li>
    <li>
      <strong>More Intuitive API</strong>
      <ul class="list-disc pl-4">
        <li>
          Cleaner, more consistent validation API that makes it easier to implement, understand, and maintain form validation across applications.
        </li>
      </ul>
    </li>
  </ol>

  <br>

  <strong class="text-sky-400">
    Cons and Challenges:
  </strong>

  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Migration Complexity</strong>
      <ul class="list-disc pl-4">
        <li>
          Upgrading existing form validation to leverage Angular 19 features like signal integration requires significant refactoring, especially for large, complex forms.
        </li>
      </ul>
    </li>
    <li>
      <strong>Learning Curve</strong>
      <ul class="list-disc pl-4">
        <li>
          Developers familiar with traditional reactive forms validation may need time to adapt to the signal-based validation approach and understand the new validation patterns.
        </li>
      </ul>
    </li>
    <li>
      <strong>Increased Initial Setup</strong>
      <ul class="list-disc pl-4">
        <li>
          Signal-based validation requires more initial setup code compared to traditional validation approaches, which may feel like overhead for simple forms.
        </li>
      </ul>
    </li>
    <li>
      <strong>Cross-Field Validation Complexity</strong>
      <ul class="list-disc pl-4">
        <li>
          Validating relationships between multiple form fields remains complex, often requiring custom form-level validators and careful orchestration of validation timing.
        </li>
      </ul>
    </li>
    <li>
      <strong>Testing Challenges</strong>
      <ul class="list-disc pl-4">
        <li>
          Testing asynchronous validators and signal-based validation logic can be more challenging, requiring careful mocking of services and attention to testing asynchronous behavior.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>


<ng-template #topicsRef>
  <p>Related Angular 19 Topics:</p>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong>Reactive Forms</strong>:
      <p>
        The framework for building model-driven forms in Angular, providing the foundation for form validation through FormControl, FormGroup, and FormArray.
      </p>
    </li>
    <li>
      <strong>Signals</strong>:
      <p>
        Angular's reactive primitive that integrates with form validation to create more efficient validation feedback mechanisms and derived validation states.
      </p>
    </li>
    <li>
      <strong>FormControl</strong>:
      <p>
        The base class for form fields that manages the value and validation state of an individual control, with enhanced signal support in Angular 19.
      </p>
    </li>
    <li>
      <strong>Custom Validators</strong>:
      <p>
        Functions that implement specialized validation logic beyond Angular's built-in validators, allowing for domain-specific validation rules.
      </p>
    </li>
    <li>
      <strong>Async Validators</strong>:
      <p>
        Validators that perform server-side or other asynchronous validation operations, now with improved RxJS integration and cancelation support.
      </p>
    </li>
    <li>
      <strong>Error States</strong>:
      <p>
        The tracking and presentation of validation errors, with enhanced type safety and reactive updates through signal integration in Angular 19.
      </p>
    </li>
    <li>
      <strong>takeUntilDestroyed</strong>:
      <p>
        A utility from &#64;angular/core/rxjs-interop that manages validation-related subscriptions, automatically cleaning them up when components are destroyed.
      </p>
    </li>
  </ol>
</ng-template>
