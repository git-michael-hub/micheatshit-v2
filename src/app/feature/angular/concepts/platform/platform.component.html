<section class="p-4 text-sm">
  <p class="heading-1 mb-2">
    Platform
  </p>

  <div class="text-content">
    <p>
      <span class="text-zinc-50 tw-font-medium">Platform</span>
      in Angular 19 refers to the runtime environment where an Angular application executes. Angular's platform-agnostic architecture enables applications to run across diverse environments including browsers, servers (for SSR), web workers, and hybrid mobile applications through a unified API surface. The new platform-specific optimizations in Angular 19 enhance performance, reduce bundle sizes, and allow for more efficient rendering strategies tailored to each environment.
    </p>

    <br>

    <div class="flex flex-col">
      <div class="flex border-b border-gray-200">
        <button (click)="selectedTab = 1" [class.text-rose-300]="selectedTab===1" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Notes
        </button>
        <button (click)="selectedTab = 2" [class.text-rose-300]="selectedTab===2" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Best Practices
        </button>
        <button (click)="selectedTab = 3" [class.text-rose-300]="selectedTab===3" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Pros and Cons
        </button>
        <button (click)="selectedTab = 4" [class.text-rose-300]="selectedTab===4" class="text-sky-400 hover:text-rose-400 font-semibold py-2 px-4 border-b-2 border-transparent hover:border-gray-500 focus:outline-none">
          Related Topics
        </button>
      </div>
      <div class="p-4">
        <ng-container [ngSwitch]="selectedTab">
          <div *ngSwitchCase="2">
            <ng-container *ngTemplateOutlet="bestRef;"></ng-container>
          </div>
          <div *ngSwitchCase="3">
            <ng-container *ngTemplateOutlet="prosConsRef;"></ng-container>
          </div>
          <div *ngSwitchCase="4">
            <ng-container *ngTemplateOutlet="topicsRef"></ng-container>
          </div>
          <div *ngSwitchDefault>
            <ng-container *ngTemplateOutlet="notesRef"></ng-container>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</section>

<ng-template #notesRef>
  <p>What is the Angular Platform?</p>
  <ul class="list-disc pl-4 text-sm">
    <li>
      <strong>Runtime Environment</strong>:
      The underlying environment where an Angular application executes, with specific optimizations for each target platform.
    </li>
    <li>
      <strong>Abstraction Layer</strong>:
      Provides a consistent API surface across different environments, enabling code reuse across platforms.
    </li>
    <li>
      <strong>Rendering Engine</strong>:
      Handles DOM manipulation (in browsers) and other platform-specific rendering operations.
    </li>
    <li>
      <strong>Platform Services</strong>:
      Offers platform-specific capabilities like animations, accessibility, and event handling.
    </li>
  </ul>

  <br>
  <br>

  <p>Platform Types in Angular 19</p>
  <ol class="list-decimal pl-4 text-sm">
    <li>
      <strong>Browser Platform</strong>:
      <ul class="list-disc pl-4">
        <li>The most common platform for Angular apps running in web browsers</li>
        <li>Enhanced in Angular 19 with improved performance through signal-based architecture</li>
        <li>Supports advanced browser APIs and capabilities like Web Components and Web Workers</li>
      </ul>
    </li>
    <li>
      <strong>Server Platform</strong>:
      <ul class="list-disc pl-4">
        <li>Enables Server-Side Rendering (SSR) for improved initial load performance and SEO</li>
        <li>Angular 19 implements advanced partial hydration strategies for more efficient client-side takeover</li>
        <li>Supports streaming rendering for faster Time-To-First-Byte (TTFB)</li>
      </ul>
    </li>
    <li>
      <strong>Web Worker Platform</strong>:
      <ul class="list-disc pl-4">
        <li>Runs Angular applications in a separate thread for improved performance</li>
        <li>Angular 19 enhances worker communication with improved serialization/deserialization</li>
        <li>Enables offloading computational work from the main UI thread</li>
      </ul>
    </li>
    <li>
      <strong>Hybrid Mobile Platform</strong>:
      <ul class="list-disc pl-4">
        <li>Supports integrations with Capacitor, Ionic, and NativeScript for mobile apps</li>
        <li>Angular 19 improves performance on mobile devices through reduced bundle sizes</li>
        <li>Enhanced device API access through better platform abstraction</li>
      </ul>
    </li>
    <li>
      <strong>Custom Platforms</strong>:
      <ul class="list-disc pl-4">
        <li>Angular 19 introduces improved extensibility for creating custom rendering engines</li>
        <li>Enables specialized use cases like embedded devices and non-DOM rendering surfaces</li>
        <li>Leverages the platform-agnostic core with custom renderers</li>
      </ul>
    </li>
  </ol>

  <br>
  <br>

  <p>Platform Enablement in Angular 19</p>
  <br>
  <p>Browser Platform (Default)</p>
  <button (click)="code1.hidden = !code1.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

  <span #code1 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>

    <pre>
      <code
        [highlight]="code_1"
        [languages]="['typescript']">
      </code>
    </pre>
  </span>

  <br>
  <p>Server Platform for SSR</p>
  <button (click)="code2.hidden = !code2.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

  <span #code2 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>

    <pre>
      <code
        [highlight]="code_2"
        [languages]="['typescript']">
      </code>
    </pre>
  </span>

  <br>
  <p>Web Worker Platform</p>
  <button (click)="code3.hidden = !code3.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

  <span #code3 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>

    <pre>
      <code
        [highlight]="code_3"
        [languages]="['typescript']">
      </code>
    </pre>
  </span>

  <br>
  <br>

  <p>Key Platform API Enhancements in Angular 19</p>
  <br>
  <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md">
    <thead>
      <tr class="bg-gray-800 text-gray-100">
        <th class="py-3 px-4 text-left">Feature</th>
        <th class="py-3 px-4 text-left">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>provideZonelessChangeDetection</code></td>
        <td class="py-3 px-4">Enables Zone.js-free applications with fine-grained change detection.</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>provideClientHydration</code></td>
        <td class="py-3 px-4">Provides optimized client-side hydration support for server-rendered apps.</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-900 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>provideExperimentalPartialHydration</code></td>
        <td class="py-3 px-4">Enables granular, component-level hydration for improved performance.</td>
      </tr>
      <tr class="border-b border-gray-700 bg-gray-950 hover:bg-gray-800 transition-colors">
        <td class="py-3 px-4"><code>provideWorkerPlatform</code></td>
        <td class="py-3 px-4">Configures Angular to run in a Web Worker environment.</td>
      </tr>
    </tbody>
  </table>

  <br>
  <br>

  <p>Platform-Specific Features</p>
  <br>
  <p>Statically Bootstrap Application</p>
  <button (click)="code4.hidden = !code4.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

  <span #code4 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>

    <pre>
      <code
        [highlight]="code_4"
        [languages]="['typescript']">
      </code>
    </pre>
  </span>

  <br>
  <p>Platform Features Detection</p>
  <button (click)="code5.hidden = !code5.hidden" class="border border-rose-400 rounded-md px-1 text-sky-400">code</button>

  <span #code5 hidden copyToClipboard>
    <div class="flex flex-row justify-between items-center bg-gray-900 px-4 py-2 relative top-5">
      <span>typescript</span>
      <span class="copy-button-wrapper bg-gray-700"></span>
    </div>

    <pre>
      <code
        [highlight]="code_5"
        [languages]="['typescript']">
      </code>
    </pre>
  </span>
</ng-template>

<ng-template #bestRef>
  <ol class="list-decimal px-4 text-sm">
    <li>
      <strong class="text-sky-400">Use Platform-Specific Bootstrapping</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Choose the Right Platform Bootstrap</strong>:
          Select the appropriate bootstrapping method for your target platform - browser, server, or worker - to ensure optimal performance.
        </li>
        <li>
          <strong>Defer Non-Critical Platform Features</strong>:
          Lazy load platform-specific features that aren't needed immediately to reduce the initial bundle size and improve startup performance.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Leverage Platform-Specific Optimizations</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Use SSR Appropriately</strong>:
          Implement server-side rendering for content-heavy pages where SEO and initial load performance are critical, but consider client-only rendering for highly interactive applications.
        </li>
        <li>
          <strong>Consider Partial Hydration</strong>:
          Use Angular 19's partial hydration for SSR applications to reduce client-side JavaScript and only hydrate interactive components.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Abstract Platform-Specific Code</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Create Platform Adapters</strong>:
          Implement adapter services that abstract platform-specific APIs to keep component code platform-agnostic and reusable.
        </li>
        <li>
          <strong>Use Dependency Injection for Platform Services</strong>:
          Leverage Angular's DI system to provide platform-specific implementations of services while maintaining a consistent interface.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Optimize for Target Platforms</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Profile Performance on Each Platform</strong>:
          Test your application on all target platforms and optimize for platform-specific bottlenecks.
        </li>
        <li>
          <strong>Use Capabilities API</strong>:
          Check for platform capabilities before using specific features to ensure graceful degradation across different environments.
        </li>
      </ul>
    </li>
    <li>
      <strong class="text-sky-400">Support All Rendering Strategies</strong>
      <ul class="list-disc pl-4">
        <li>
          <strong>Design for CSR, SSR, and Prerendering</strong>:
          Structure your application to work well with all rendering strategies without duplicating logic.
        </li>
        <li>
          <strong>Use Platform-Agnostic State Management</strong>:
          Implement state management solutions that seamlessly transition between server and client platforms.
        </li>
      </ul>
    </li>
  </ol>
</ng-template>

<ng-template #prosConsRef>
  <div class="flex flex-col gap-4">
    <div>
      <p class="font-semibold text-sky-400">Pros:</p>
      <ul class="list-disc pl-4 text-sm">
        <li>Enables code reuse across different execution environments (browser, server, mobile)</li>
        <li>Provides optimized rendering strategies for each target platform</li>
        <li>Supports both client-side rendering and server-side rendering with improved hydration</li>
        <li>Angular 19's signal-based architecture offers better performance across all platforms</li>
        <li>Platform-agnostic core simplifies development of cross-platform applications</li>
        <li>Enhanced platform-specific APIs provide native-like features and performance</li>
        <li>Unified programming model reduces learning curves when targeting multiple platforms</li>
      </ul>
    </div>
    <div>
      <p class="font-semibold text-sky-400">Cons:</p>
      <ul class="list-disc pl-4 text-sm">
        <li>Increased complexity when supporting multiple platforms simultaneously</li>
        <li>Platform-specific optimizations may require specialized knowledge</li>
        <li>Some platform-specific features may not be available on all target environments</li>
        <li>Testing across multiple platforms adds development overhead</li>
        <li>Platform abstraction can sometimes limit access to native platform capabilities</li>
        <li>SSR adds complexity to application architecture and deployment</li>
        <li>Worker platform requires careful management of serialization/deserialization costs</li>
      </ul>
    </div>
  </div>
</ng-template>

<ng-template #topicsRef>
  <div class="grid grid-cols-2 gap-4 py-2">
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Server-Side Rendering (SSR)</p>
      <p class="text-sm">Rendering Angular applications on the server for improved performance and SEO</p>
    </div>
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Hydration</p>
      <p class="text-sm">Process of attaching event listeners to server-rendered HTML</p>
    </div>
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Partial Hydration</p>
      <p class="text-sm">Selectively hydrating components based on visibility or interactivity needs</p>
    </div>
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Web Workers</p>
      <p class="text-sm">Running Angular in separate threads for improved performance</p>
    </div>
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Universal</p>
      <p class="text-sm">Angular Universal for server-side rendering implementations</p>
    </div>
    <div class="p-4 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors">
      <p class="font-medium text-sky-400">Zoneless Applications</p>
      <p class="text-sm">Running Angular without Zone.js for better performance</p>
    </div>
  </div>
</ng-template>
